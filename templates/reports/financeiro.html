{% extends 'admin/base_site.html' %}
{% load static widget_tweaks %}

{% block content %}
    <form method="get" class="col-lg-10">
        {% csrf_token %}
        <div class="row">
            <div class="col-lg-5">
                <div class="form-group">
                    <label for="id_data_inicio" class="col-form-label"> Data Inicial </label>
                    <div>
                        {{ filter_form.initial_date|add_class:'form-control' }}
                    </div>

                </div>
            </div>
            <div class="col-lg-5">
                <div class="form-group">
                    <label for="id_data_fim" class="col-form-label"> Data Final </label>
                    <div>
                        {{ filter_form.final_date|add_class:'form-control' }}
                    </div>
                </div>
            </div>
            <div class="col-lg-2" style="display:flex;">
                <button type="submit" class="btn btn-primary"
                        style="align-self: center; width: 100%;"> Filtrar
                </button>
            </div>
        </div>
    </form>

    <form method="post" class="col-lg-2 d-flex" target="_blank">
        {% csrf_token %}
        <div class="col-lg-12 d-flex">
            <button type="submit" class="btn btn-primary" style="align-self: center; width: 100%">
                Imprimir
            </button>
        </div>
    </form>
    </div>
    <div>
        <table class="table table-bordered" style="text-align: center;width: 100%">
            <thead>
            <tr>
                <th> Descrição</th>
                <th> Valor</th>
                <th> Data</th>
                <th> Data de referência</th>
                <th> Status</th>
            </tr>
            </thead>
            <tbody>
            {% for despesa in objects %}
                <tr>
                    <td> {{ key }} </td>
                    <td> {{ value.total_cost }} </td>
                    <td> {{ value.total_sale }} </td>
                    <td> {{ value.total_profit }} </td>
                    <td> {{ value.total_profit }} </td>
                </tr>
            {% endfor %}
            <tr style="font-weight: bold">
                <td colspan="3"> Total de lucro</td>
                <td> {{ total_profit }} </td>
            </tr>
            </tbody>
        </table>
    </div>
{% endblock %}