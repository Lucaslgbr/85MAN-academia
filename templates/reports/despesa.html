{% extends 'admin/base_site.html' %}
{% load static widget_tweaks %}

{% block content %}
    <form method="get" class="col-lg-10">
        {% csrf_token %}
        <div class="row">
            <div class="col-lg-5">
                <div class="form-group">
                    <label for="id_data_inicial" class="col-form-label"> Data Inicial </label>
                    <div>
                        {{ filter_form.data_inicial|add_class:'form-control' }}
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="form-group">
                    <label for="id_data_final" class="col-form-label"> Data Final </label>
                    <div>
                        {{ filter_form.data_final|add_class:'form-control' }}
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="form-group">
                    <label for="id_data_inicial_referencia" class="col-form-label"> Data Inicial Referência </label>
                    <div>
                        {{ filter_form.data_inicial_referencia|add_class:'form-control' }}
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="form-group">
                    <label for="id_data_final_referencia" class="col-form-label"> Data Final Referência </label>
                    <div>
                        {{ filter_form.data_final_referencia|add_class:'form-control' }}
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="form-group">
                    <label for="id_status" class="col-form-label"> Status </label>
                    <div>
                        {{ filter_form.status|add_class:'form-control' }}
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="form-group">
                    <label for="id_animais" class="col-form-label"> Animais </label>
                    <div>
                        {{ filter_form.animais|add_class:'form-control' }}
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="form-group">
                    <label for="id_atividades" class="col-form-label"> Atividades </label>
                    <div>
                        {{ filter_form.atividades|add_class:'form-control' }}
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="form-group">
                    <label for="id_categoria_despesa" class="col-form-label"> Categoria Despesa </label>
                    <div>
                        {{ filter_form.categoria_despesa|add_class:'form-control' }}
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="form-group">
                    <label for="id_categoria_acao" class="col-form-label"> Categoria Ação </label>
                    <div>
                        {{ filter_form.categoria_acao|add_class:'form-control' }}
                    </div>
                </div>
            </div>
            <div class="col-lg-2" style="display:flex;">
                <button type="submit" class="btn btn-primary"
                        style="align-self: center; width: 100%;"> Filtrar
                </button>
            </div>
        </div>
    </form>

    <form method="post" class="col-lg-2 d-flex" target="_blank">
        {% csrf_token %}
        <div class="col-lg-12 d-flex">
            <button type="submit" class="btn btn-primary" style="align-self: center; width: 100%">
                Imprimir
            </button>
        </div>
    </form>
    </div>
    <div>
        <table class="table table-bordered" style="text-align: center;width: 100%">
            <thead>
            <tr>
                <th> Descrição</th>
                <th> Valor</th>
                <th> Data</th>
                <th> Data de Referência</th>
                <th> Status</th>
            </tr>
            </thead>
            <tbody>
            {% for despesa in objects %}
                <tr>
                    <td> {{ despesa.descricao }} </td>
                    <td> {{ despesa.valor }} </td>
                    <td> {{ despesa.data|date:"SHORT_DATE_FORMAT" }} </td>
                    <td> {{ despesa.data_referencia|date:"SHORT_DATE_FORMAT" }} </td>
                    <td> {{ despesa.status }} </td>
                </tr>
            {% endfor %}
            <tr style="font-weight: bold">
                <td colspan="3"> Total de Valor Pendente</td>
                <td> {{ valor_pendente }} </td>
            </tr>
            </tbody>
        </table>
    </div>